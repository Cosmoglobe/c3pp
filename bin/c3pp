#!/usr/bin/env python
#!/astro/local/anaconda/bin/python3

import math
import sys
import os
import time
import healpy as hp
import numpy as np
from astropy.io import fits
import matplotlib.pyplot as plt

from c3postproc.functions import *
from c3postproc.c3helper import c3help, operations

def main():
    nsysargs = len(sys.argv)

    if nsysargs < 2: 
        print("Usage: c3postproc [operation]Â [flags] [outname]")
        print("help:  c3postproc [operation]")
        print("List of possible operations:")
        print(operations())
        sys.exit()

    operation = sys.argv[1]        # Operation to be done
    c3help(operation, nsysargs)    # Checks if you are using operation correctly, if not helps you out.

    flags = sys.argv[2:]         # Flags are everything between operation and outname

    globals()[str(operation)](flags) # Call whatever function you chose with flags and outname


if __name__ == "__main__":
    main()